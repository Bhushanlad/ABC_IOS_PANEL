<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>ABC iOS Panel</title>

<style>
body{
  margin:0;
  font-family:Arial;
  background:#000;
  color:#fff;
}
.hidden{display:none}

/* LOGIN */
.box{
  max-width:360px;
  margin:60px auto;
  background:#020617;
  padding:20px;
  border-radius:14px;
}
h2{text-align:center;color:#38bdf8}
input,button{
  width:100%;
  padding:12px;
  margin-top:10px;
  border:none;
  border-radius:8px;
}
input{background:#0f172a;color:#fff}
.loginBtn{background:#38bdf8;font-weight:bold}
.error{text-align:center;color:red;margin-top:10px}
.userBox{text-align:center;color:#22d3ee;font-weight:bold;margin-bottom:10px}

/* PANEL */
.panel{
  max-width:420px;
  margin:30px auto;
  background:#020617;
  padding:20px;
  border-radius:16px;
}
.item{
  display:flex;
  justify-content:space-between;
  align-items:center;
  background:#0f172a;
  padding:10px;
  border-radius:10px;
  margin-top:10px;
}
.toggle{cursor:pointer;font-size:18px}
.off{color:red}
.on{color:#22c55e}
.open{background:#22d3ee;margin-top:12px}
.apply{background:#22c55e;margin-top:10px}
.status{text-align:center;margin-top:10px;color:#22c55e;font-size:14px}
</style>
</head>

<body>

<!-- LOGIN -->
<div id="loginBox" class="box">
  <h2>ABC iOS LOGIN</h2>

  <div class="userBox">
    USER ID<br>
    <span id="userId"></span>
  </div>

  <input id="keyInput" placeholder="Enter Premium Key">
  <button class="loginBtn" onclick="login()">LOGIN</button>
  <div id="error" class="error"></div>
</div>

<!-- PANEL -->
<div id="panelBox" class="hidden">
  <div class="panel">
    <h2>ABC iOS PANEL</h2>

    <div class="item">MAX HEADSHOT <span class="toggle off" onclick="toggle(this)">❌</span></div>
    <div class="item">MAX AIM ASSIST <span class="toggle off" onclick="toggle(this)">❌</span></div>
    <div class="item">120 FPS <span class="toggle off" onclick="toggle(this)">❌</span></div>
    <div class="item">SMOOTH GRAPHIC <span class="toggle off" onclick="toggle(this)">❌</span></div>
    <div class="item">LESS RECOIL <span class="toggle off" onclick="toggle(this)">❌</span></div>

    <button class="open" onclick="openBGMI()">OPEN BGMI</button>
    <button class="open" onclick="openPUBG()">OPEN PUBG</button>

    <!-- APPLY FILE -->
    <button class="apply" onclick="openFilePicker()">APPLY ALL FILE</button>
    <input type="file" id="fileInput" class="hidden" onchange="fileSelected(this)">

    <div id="status" class="status"></div>
  </div>
</div>

<script>
// ---------- USER ID ----------
function genUser(){
  let u = localStorage.getItem("ABC_USER");
  if(u) return u;
  const c="ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";
  let r="";
  for(let i=0;i<6;i++) r+=c[Math.floor(Math.random()*c.length)];
  u="ABC-"+r;
  localStorage.setItem("ABC_USER",u);
  return u;
}
const USER_ID = genUser();
document.getElementById("userId").innerText = USER_ID;

// ---------- LOGIN ----------
function login(){
  const key = document.getElementById("keyInput").value.trim();
  const err = document.getElementById("error");
  err.innerText="";

  const blocked = JSON.parse(localStorage.getItem("ABC_BLOCKED_KEYS")) || [];
  if(blocked.includes(key)){
    err.innerText="Key Blocked ❌";
    return;
  }

  if(!key.startsWith("IOSKEY-")){
    err.innerText="Invalid Key ❌";
    return;
  }

  const data = key.replace("IOSKEY-","").split("-");
  const keyUser = data[0]+"-"+data[1];
  const expiry = data.slice(2).join("-");

  if(keyUser!==USER_ID){
    err.innerText="Wrong User ❌";
    return;
  }

  const today=new Date().toISOString().split("T")[0];
  if(today>expiry){
    err.innerText="Key Expired ❌";
    return;
  }

  document.getElementById("loginBox").classList.add("hidden");
  document.getElementById("panelBox").classList.remove("hidden");
}

// ---------- PANEL ----------
function toggle(el){
  if(el.classList.contains("off")){
    el.classList.remove("off");el.classList.add("on");el.innerText="✅";
  }else{
    el.classList.remove("on");el.classList.add("off");el.innerText="❌";
  }
}
function openBGMI(){
  window.location.href="https://apps.apple.com/in/app/battlegrounds-mobile-india/id1616739839";
}
function openPUBG(){
  window.location.href="https://apps.apple.com/app/pubg-mobile/id1330123889";
}

// ---------- FILE PICKER ----------
function openFilePicker(){
  document.getElementById("fileInput").click();
}

function fileSelected(input){
  if(input.files.length===0) return;
  const file = input.files[0].name;
  document.getElementById("status").innerText =
    "File Selected & Applied: "+file+" ✅";
}
</script>

</body>
</html>